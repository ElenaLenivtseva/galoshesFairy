let text="* По мотивам сказки Ганса Христиана Андерсена «Калоши счастья»",content=document.querySelector("#content");for(let t in[...text]){let e=document.createElement("span");e.classList.add("header__span"),e.textContent=[...text][t],e.textContent.match(/\s/)&&(e.style.margin="auto 3px"),e.style.animationDelay=t/30+"s",content.appendChild(e)}console.log("work");let currentDroppable=null;function enterDroppable(e){e.style.background="#053404"}function leaveDroppable(e){e.style.background=""}ball.onmousedown=function(e){let n=e.clientX-ball.getBoundingClientRect().left,l=e.clientY-ball.getBoundingClientRect().top;function t(e,t){ball.style.left=e-n+"px",ball.style.top=t-l+"px"}function s(e){t(e.pageX,e.pageY),ball.hidden=!0;var e=document.elementFromPoint(e.clientX,e.clientY);ball.hidden=!1,e&&(e=e.closest(".droppable"),currentDroppable!=e)&&(currentDroppable&&leaveDroppable(currentDroppable),currentDroppable=e)&&enterDroppable(currentDroppable)}ball.style.position="absolute",ball.style.zIndex=1e3,document.body.append(ball),t(e.pageX,e.pageY),document.addEventListener("mousemove",s),ball.onmouseup=function(){document.removeEventListener("mousemove",s),ball.onmouseup=null}},ball.ondragstart=function(){return!1};const quotes=['<img src="/assets/img/quotes.png" alt="" class="map__img-out"><p class="text map__title">— Боже мой! Или это мираж, фата-моргана, или я... господи... пьян? – застонал советник юстиции. – Что же это такое? Что же это такое?</p>','<img src="/assets/img/quotes.png" alt="" class="map__img-out"><p class="text map__title">— Нет у него ни жены, ни детей, ни тревог, ни забот; каждый вечер по гостям разъезжает. Хорошо бы мне поменяться с ним местами: я тогда стал бы самым счастливым человеком на земле!</p>','<img src="/assets/img/quotes.png" alt="" class="map__img-out"><p class="text map__title">— Взять бы, скажем, зрителей первого ряда, – думал медик, – И посмотреть, что делается у них в сердце, – должен же туда вести какой-то вход, вроде как в магазин.</p>','<img src="/assets/img/quotes.png" alt="" class="map__img-out"><p class="text map__title">— Эх, вот вы опять уезжаете, а мы остаемся, – сказал писарь. – Счастливые люди, летаете себе, где хотите и куда хотите, а у нас цепи на ногах. </p>','<img src="/assets/img/quotes.png" alt="" class="map__img-out"><p class="text map__title">— О, путешествовать! - вырвалось у него, - Что может быть лучше! Это предел всех моих мечтаний.</p>'],phrases=[`<p class="number map__number">I.</p>
<p class="text map__title">Счастье </br>— в прошлом.</p>`,`<p class="number map__number">II.</p>
<p class="text map__title">Счастье </br>— в беззаботности.</p>`,`<p class="number map__number">III.</p>
<p class="text map__title">Счастье </br>— видеть людей насквозь.</p>`,`<p class="number map__number">IV.</p>
<p class="text map__title">Счастье </br>— лететь, куда хочешь.</p>`,`<p class="number map__number">V.</p>
<p class="text map__title">Счастье </br>— странствовать по миру.</p>`];let items=document.querySelectorAll(".map__item");if(0<items.length)for(let t=0;t<items.length;t++)items[t].addEventListener("mouseenter",e=>{items[t].innerHTML=quotes[t]}),items[t].addEventListener("mouseleave",e=>{items[t].innerHTML=phrases[t]});const animItems=document.querySelectorAll(".anim-items");function animOnScroll(){for(let t=0;t<animItems.length;t++){var n=animItems[t],l=n.offsetHeight,s=offset(n).top;let e=window.innerHeight-l/4;l>window.innerHeight&&(e=window.innerHeight-window.innerHeight/4),pageYOffset>s-e&&pageYOffset<s+l?n.classList.add("__active"):n.classList.contains("anim-no-hide")||n.classList.remove("__active")}}function offset(e){var e=e.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+n,left:e.left+t}}0<animItems.length&&(window.addEventListener("scroll",animOnScroll),setTimeout(()=>{animOnScroll()},300));